{% extends "header.html" %}

{% block body %}

<script src="{{ url_for('static', filename='node_modules/three/build/three.js')}}"></script>
<script src="{{ url_for('static', filename='js/blankBg.js')}}"></script>

<div class="post-container mdl-grid">
    <!-- 2col side that is hidden on small screens -->
    <!-- <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div> -->
    <div class="post-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--12-col">
      <h3>Vehicle Project</h3>
        <form class="ui form" action = "{{ url_for('web_scraper') }}" method = "post">
          {% if selected_make != '' %}
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
          {% else %}
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label is-invalid">
          {% endif %}
            <select class="mdl-textfield__input" id="make" name="make" >
              <option></option>
              {% for t in CAR_MAKE_DICT.keys() %}
              <option value={{t}}>{{t}}</option>
              {% endfor %}
            </select>
            <label class="mdl-textfield__label" for="make">Make</label>
            <span id="id_msg" class="mdl-textfield__error"> No vehicle make selected. </span>
          </div>
          <button class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" type="submit" name="action">Submit</button>
        </form>   
        {% if selected_make != '' %}
        <div class="vehicle-chips">
          <span class="mdl-chip">
            <span class="mdl-chip__text"> {{selected_make}} </span>
          </span>
        </div>
        {% endif %}

        <!-- TABLE -->
        {% if mycursor %}

          {% if mycursorCount %}
            {% for z in mycursorCount %}
            <p>Latest 30 out of total of {{z[0]}} records</p>
            {% endfor %}
          {% endif %}
          <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp">
            <!-- Head -->
            <thead>
              <tr>
                {% for h in TableHeader_List %}
                  <th>{{h}}</th>
                {% endfor %}
              </tr>
            </thead>
            <!-- Body -->
            <tbody>
              {% for t in mycursor %}
              <tr>
                {% for v in t.values() %}
                <td>{{v}}</td>
                {% endfor %}
              </tr>  
              {% endfor %}
            </tbody>
          </table>
        {% endif %}


    </div>
  </div>


{% endblock %}